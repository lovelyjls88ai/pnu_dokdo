<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë…ë„: ì—­ì‚¬ì™€ ì§„ì‹¤ - ì¸í„°ë™í‹°ë¸Œ íƒ€ì„ë¼ì¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals (Stone) with Deep Blue (Ocean/History) and Muted Gold/Red Accents -->
    <!-- Application Structure Plan: 
         1. Header: Title, Home button (index.html), and navigation.
         2. Dashboard Section: Analytics using Chart.js to visualize event frequency and evidence types.
         3. Interactive Timeline Explorer: Core content area with search and category filters.
         4. Detail View: Expandable timeline items for in-depth information.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-stone-50 text-stone-800 antialiased selection:bg-blue-100 selection:text-blue-900">

    <!-- Navigation / Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-4">
                <!-- Home Button -->
                <a href="index.html" class="flex items-center gap-2 group">
                    <span class="text-xl group-hover:scale-110 transition-transform">ğŸ </span>
                    <span class="text-sm font-bold text-stone-500 group-hover:text-blue-900 transition-colors">í™ˆ</span>
                </a>
                <div class="h-4 w-px bg-stone-200"></div>
                <div class="flex items-center gap-2">
                    <span class="text-2xl">ğŸï¸</span>
                    <h1 class="text-xl font-bold text-blue-900 tracking-tight">ë…ë„ ì•„ì¹´ì´ë¸Œ</h1>
                </div>
            </div>
            <nav class="hidden md:flex space-x-8 text-sm font-medium text-stone-600">
                <button onclick="scrollToSection('dashboard')" class="hover:text-blue-700 transition-colors">ë°ì´í„° ë¶„ì„</button>
                <button onclick="scrollToSection('timeline')" class="hover:text-blue-700 transition-colors">ì—°ëŒ€ê¸° íƒìƒ‰</button>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="bg-gradient-to-b from-blue-50 to-stone-50 py-12 md:py-20 border-b border-stone-200">
        <div class="max-w-4xl mx-auto px-4 text-center">
            <span class="inline-block py-1 px-3 rounded-full bg-blue-100 text-blue-800 text-xs font-semibold mb-4 tracking-wide">ëŒ€í•œë¯¼êµ­ ì˜í† ì˜ ì—­ì‚¬</span>
            <h2 class="text-3xl md:text-5xl font-bold text-stone-900 mb-6 leading-tight">ì—­ì‚¬ê°€ ì¦ëª…í•˜ëŠ” ì§„ì‹¤,<br/><span class="text-blue-800">ë…ë„</span>ì˜ ê¸°ë¡</h2>
            <p class="text-lg text-stone-600 mb-8 max-w-2xl mx-auto leading-relaxed">
                ìˆ˜ë°±ë§Œ ë…„ ì „ì˜ íƒ„ìƒë¶€í„° í˜„ì¬ì— ì´ë¥´ê¸°ê¹Œì§€, ë…ë„ê°€ ê±¸ì–´ì˜¨ ê¸¸ì„ ë°ì´í„°ì™€ ê¸°ë¡ìœ¼ë¡œ í™•ì¸í•´ë³´ì„¸ìš”.
                ê³ ì§€ë„, ì‹¤ë¡, êµ­ì œ ì¡°ì•½ ë“± ë‹¤ì–‘í•œ ì‚¬ë£Œê°€ ë…ë„ê°€ í•œêµ­ì˜ ê³ ìœ  ì˜í† ì„ì„ ëª…ë°±íˆ ë³´ì—¬ì¤ë‹ˆë‹¤.
            </p>
            <button onclick="scrollToSection('timeline')" class="bg-blue-800 hover:bg-blue-900 text-white font-medium py-3 px-8 rounded-lg shadow-lg transition-all transform hover:-translate-y-1">
                ê¸°ë¡ íƒìƒ‰ ì‹œì‘í•˜ê¸°
            </button>
        </div>
    </section>

    <!-- Dashboard Section -->
    <section id="dashboard" class="py-16 bg-white">
        <div class="max-w-5xl mx-auto px-4 sm:px-6">
            <div class="mb-10 text-center md:text-left">
                <h3 class="text-2xl font-bold text-stone-900 mb-3">ğŸ—‚ï¸ ê¸°ë¡ ë°ì´í„° ë¶„ì„</h3>
                <p class="text-stone-600 max-w-3xl">
                    ì—­ì‚¬ì  ê¸°ë¡ì„ ì •ëŸ‰ì ìœ¼ë¡œ ë¶„ì„í•œ ê²°ê³¼ì…ë‹ˆë‹¤. ì¡°ì„ ì‹œëŒ€ë¶€í„° ì´ì–´ì§„ ì§€ì†ì ì¸ ì˜í†  ì¸ì‹ê³¼ 20ì„¸ê¸° ì´í›„ ê¸‰ì¦í•œ êµ­ì œë²•ì , ì‹¤íš¨ì  ì§€ë°° ê´€ë ¨ í™œë™ì„ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12">
                <div class="bg-stone-50 p-6 rounded-xl border border-stone-100 shadow-sm">
                    <h4 class="text-lg font-semibold text-stone-800 mb-2 text-center">ì‹œëŒ€ë³„ ì£¼ìš” ê¸°ë¡ ë¹ˆë„</h4>
                    <p class="text-xs text-stone-500 text-center mb-4">ì–´ëŠ ì‹œê¸°ì— ë…ë„ ê´€ë ¨ ì´ìŠˆë‚˜ ê¸°ë¡ì´ ì§‘ì¤‘ë˜ì—ˆëŠ”ì§€ ë³´ì—¬ì¤ë‹ˆë‹¤.</p>
                    <div class="chart-container">
                        <canvas id="eraChart"></canvas>
                    </div>
                </div>

                <div class="bg-stone-50 p-6 rounded-xl border border-stone-100 shadow-sm">
                    <h4 class="text-lg font-semibold text-stone-800 mb-2 text-center">ì¦ê±° ìœ í˜•ë³„ ë¶„í¬</h4>
                    <p class="text-xs text-stone-500 text-center mb-4">ë¬¸í—Œ, ì§€ë„, êµ­ì œë²•ì  ì¡°ì¹˜ ë“± ê¸°ë¡ì˜ ì„±ê²©ì„ ë¶„ë¥˜í–ˆìŠµë‹ˆë‹¤.</p>
                    <div class="chart-container">
                        <canvas id="typeChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Timeline Explorer Section -->
    <section id="timeline" class="py-16 bg-stone-50 border-t border-stone-200">
        <div class="max-w-4xl mx-auto px-4 sm:px-6">
            <div class="mb-8">
                <h3 class="text-2xl font-bold text-stone-900 mb-3">ğŸ•°ï¸ ì—°ëŒ€ê¸° íƒìƒ‰</h3>
                <p class="text-stone-600 mb-6">
                    ì•„ë˜ì˜ í•„í„°ì™€ ê²€ìƒ‰ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ìœ í˜•ì˜ ê¸°ë¡ì„ ì°¾ì•„ë³´ì„¸ìš”. ì¹´ë“œë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
                
                <div class="bg-white p-4 rounded-lg shadow-sm border border-stone-200 flex flex-col md:flex-row gap-4 justify-between items-center sticky top-20 z-40">
                    <div class="flex flex-wrap gap-2 justify-center md:justify-start" id="filterContainer">
                        <button onclick="filterData('all')" class="filter-btn active px-3 py-1.5 text-sm rounded-full bg-blue-800 text-white font-medium transition-colors">ì „ì²´</button>
                        <button onclick="filterData('history')" class="filter-btn px-3 py-1.5 text-sm rounded-full bg-stone-200 text-stone-600 hover:bg-stone-300 transition-colors">ì—­ì‚¬ ë¬¸í—Œ/ì§€ë„</button>
                        <button onclick="filterData('modern')" class="filter-btn px-3 py-1.5 text-sm rounded-full bg-stone-200 text-stone-600 hover:bg-stone-300 transition-colors">ê·¼ëŒ€/êµ­ì œë²•</button>
                        <button onclick="filterData('dispute')" class="filter-btn px-3 py-1.5 text-sm rounded-full bg-stone-200 text-stone-600 hover:bg-stone-300 transition-colors">í˜„ëŒ€ ë¶„ìŸ/ìˆ˜í˜¸</button>
                    </div>
                    <div class="relative w-full md:w-64">
                        <input type="text" id="searchInput" placeholder="í‚¤ì›Œë“œ ê²€ìƒ‰ (ì˜ˆ: ì§€ë„, ì¹™ë ¹)" class="w-full pl-10 pr-4 py-2 border border-stone-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-stone-50 focus:bg-white transition-all">
                        <span class="absolute left-3 top-2.5 text-stone-400">ğŸ”</span>
                    </div>
                </div>
            </div>

            <div id="timelineList" class="space-y-4 relative before:content-[''] before:absolute before:left-4 md:before:left-8 before:top-0 before:bottom-0 before:w-0.5 before:bg-stone-300">
                <div class="text-center py-10 text-stone-500">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</div>
            </div>
            
            <div id="noResults" class="hidden text-center py-12 text-stone-500 bg-white rounded-lg border border-dashed border-stone-300 mt-4">
                ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-stone-900 text-stone-400 py-8 border-t border-stone-800">
        <div class="max-w-5xl mx-auto px-4 text-center">
            <p class="text-sm mb-2">ë³¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì œê³µëœ 'ë…ë„ ì—­ì‚¬ ì—°ëŒ€ê¸°' ë³´ê³ ì„œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
            <p class="text-xs">&copy; 2024 Dokdo Historical Archive Visualization.</p>
        </div>
    </footer>

    <script>
        const timelineData = [
            { year: "ì•½ 460~250ë§Œ ë…„ ì „", sortYear: -4600000, title: "ë…ë„ íƒ„ìƒ", content: "í™”ì‚°í™œë™ìœ¼ë¡œ ë…ë„ ìƒì„± (ìš¸ë¦‰ë„ì™€ ì§€ì§ˆí•™ì ìœ¼ë¡œ ìœ ì‚¬í•œ ì¡°ë©´ì•” êµ¬ì„±)", source: "ì§€ì§ˆí•™ì  ë¶„ì„", category: "natural", type: "ìì—°" },
            { year: "1454ë…„", sortYear: 1454, title: "ì„¸ì¢…ì‹¤ë¡ì§€ë¦¬ì§€ ê¸°ë¡", content: "ìš°ì‚°(ë…ë„)ê³¼ ë¬´ë¦‰(ìš¸ë¦‰ë„) ë‘ ì„¬ì´ ë‚ ì”¨ê°€ ë§‘ìœ¼ë©´ ì„œë¡œ ë³´ì¸ë‹¤ê³  ê¸°ë¡í•¨. ë…ë„ê°€ ì¡°ì„ ì˜ ì˜í† ì„ì„ ë³´ì—¬ì£¼ëŠ” ì´ˆê¸° ê´€ì°¬ ê¸°ë¡.", source: "ì„¸ì¢…ì‹¤ë¡ì§€ë¦¬ì§€", category: "history", type: "ë¬¸í—Œ" },
            { year: "1481ë…„", sortYear: 1481, title: "íŒ”ë„ì´ë„ ì œì‘", content: "ã€ì‹ ì¦ë™êµ­ì—¬ì§€ìŠ¹ëŒã€ì— ì²¨ë¶€ëœ ì§€ë„ë¡œ, ë™í•´ìƒì— ìš¸ë¦‰ë„ì™€ ìš°ì‚°ë„ê°€ ê·¸ë ¤ì§.", source: "íŒ”ë„ì´ë„", category: "history", type: "ì§€ë„" },
            { year: "1531ë…„", sortYear: 1531, title: "ì‹ ì¦ë™êµ­ì—¬ì§€ìŠ¹ëŒ", content: "ê°•ì›ë„ ìš¸ì§„í˜„ì¡°ì— ìš°ì‚°ë„(ë…ë„)ì— ê´€í•œ ì§€ë¦¬ì  ë‚´ìš©ì´ ê¸°ìˆ ë¨.", source: "ì‹ ì¦ë™êµ­ì—¬ì§€ìŠ¹ëŒ", category: "history", type: "ë¬¸í—Œ" },
            { year: "1667ë…„", sortYear: 1667, title: "ì€ì£¼ì‹œì²­í•©ê¸°", content: "ì¼ë³¸ ê´€ë¦¬ê°€ ì‘ì„±í•œ ë³´ê³ ì„œ. ì¼ë³¸ì˜ ê²½ê³„ë¥¼ ì˜¤í‚¤ì„¬ìœ¼ë¡œ í•œì •í•˜ì—¬ ë…ë„ë¥¼ ì¡°ì„  ë•…ìœ¼ë¡œ ì¸ì‹í•˜ê³  ìˆìŒì„ ë³´ì—¬ì£¼ëŠ” ì¼ë³¸ ì¸¡ ìë£Œ.", source: "ì€ì£¼ì‹œì²­í•©ê¸° (ì¼ë³¸)", category: "history", type: "ë¬¸í—Œ" },
            { year: "1693ë…„", sortYear: 1693, title: "1ì°¨ ì•ˆìš©ë³µ ì‚¬ê±´", content: "ì•ˆìš©ë³µ ì¼í–‰ì´ ì¼ë³¸ ì–´ë¶€ì—ê²Œ ë‚©ì¹˜ë˜ì–´ ì˜¤í‚¤ì„¬ìœ¼ë¡œ ëŒë ¤ê°”ìœ¼ë‚˜, ë‹¹ë‹¹íˆ ë…ë„ê°€ ì¡°ì„  ë•…ì„ì„ ì£¼ì¥í•¨.", source: "ì—­ì‚¬ì  ì‚¬ê±´", category: "history", type: "ì‚¬ê±´" },
            { year: "1696ë…„", sortYear: 1696, title: "2ì°¨ ì•ˆìš©ë³µ ì‚¬ê±´ ë° ë„í•´ ê¸ˆì§€ë ¹", content: "ì¼ë³¸ ë§‰ë¶€ê°€ ìš¸ë¦‰ë„ì™€ ë…ë„ê°€ ì¡°ì„  ë•…ì„ì„ ê³µì‹ ì¸ì •í•˜ê³  ì¼ë³¸ì¸ì˜ ë„í•´ë¥¼ ê¸ˆì§€í•¨.", source: "ì¼ë³¸ ë§‰ë¶€ ë¬¸ì„œ", category: "history", type: "êµ­ì œí•©ì˜" },
            { year: "1697ë…„", sortYear: 1697, title: "ìš¸ë¦‰ë„ ìˆ˜í† ê´€ ì œë„", content: "ì¡°ì„  ì •ë¶€ê°€ ìš¸ë¦‰ë„ ìˆ˜í† ê´€ ì œë„ë¥¼ ì‹ ì„¤í•˜ì—¬ 1894ë…„ê¹Œì§€ ì •ê¸°ì ìœ¼ë¡œ ê´€ë¦¬í•¨.", source: "ì¡°ì„  ì •ë¶€", category: "history", type: "í–‰ì •" },
            { year: "1779ë…„", sortYear: 1779, title: "ê°œì • ì¼ë³¸ì—¬ì§€ë¡œì •ì „ë„", content: "ì¼ë³¸ì˜ ë‚˜ê°€ì¿ ë³´ ì„¸í‚¤ìŠ¤ì´ê°€ ì œì‘í•œ ì§€ë„. ë…ë„ë¥¼ ì±„ìƒ‰í•˜ì§€ ì•Šê±°ë‚˜ ê²½ê³„ ë°–ìœ¼ë¡œ ë‘ì–´ ì¼ë³¸ ì˜ì—­ ë°–ìœ¼ë¡œ í‘œì‹œí•¨.", source: "ê³ ì§€ë„", category: "history", type: "ì§€ë„" },
            { year: "1785ë…„", sortYear: 1785, title: "ì‚¼êµ­ì ‘ì–‘ì§€ë„", content: "ì¼ë³¸ ì‹¤í•™ì í•˜ì•¼ì‹œ ì‹œí—¤ì´ê°€ ë…ë„ë¥¼ ì¡°ì„ ê³¼ ê°™ì€ í™©ìƒ‰ìœ¼ë¡œ ì¹ í•˜ê³  'ì¡°ì„ ì˜ ê²ƒ'ì´ë¼ ëª…ë°±íˆ ê¸°ë¡í•¨.", source: "í•˜ì•¼ì‹œ ì‹œí—¤ì´", category: "history", type: "ì§€ë„" },
            { year: "18ì„¸ê¸° ì¤‘ë°˜", sortYear: 1750, title: "ë™êµ­ì§€ë„", content: "ì •ìƒê¸°ê°€ ì œì‘í•œ ì§€ë„ë¡œ ë…ë„(ìš°ì‚°ë„)ì˜ ìœ„ì¹˜ë¥¼ ì •í™•í•˜ê²Œ í‘œê¸°í•¨.", source: "ì •ìƒê¸°", category: "history", type: "ì§€ë„" },
            { year: "1808ë…„", sortYear: 1808, title: "ë§Œê¸°ìš”ëŒ", content: "'ìš¸ë¦‰ê³¼ ìš°ì‚°ì€ ëª¨ë‘ ìš°ì‚°êµ­ì˜ ë•…'ì´ë¼ë©° ë…ë„ê°€ ì¡°ì„  ì˜í† ì„ì„ ë°í˜.", source: "ë§Œê¸°ìš”ëŒ", category: "history", type: "ë¬¸í—Œ" },
            { year: "1832ë…„", sortYear: 1832, title: "ì‚¼êµ­í†µëŒë„", content: "ë…ì¼ì¸ í´ë¼í”„ë¡œíŠ¸ê°€ ì œì‘í•œ ì§€ë„ë¡œ ë…ë„ë¥¼ í•œë°˜ë„ì™€ ê°™ì€ ìƒ‰ìœ¼ë¡œ í‘œì‹œí•¨. ì„œì–‘ì—ì„œë„ ì´ë¥¼ ì¸ì§€í•¨.", source: "í´ë¼í”„ë¡œíŠ¸", category: "history", type: "ì§€ë„" },
            { year: "1849~1855ë…„", sortYear: 1849, title: "ì„œì–‘ ì„ ë°•ì˜ ë°œê²¬", content: "ë¦¬ì•™ì¿ ë¥´í˜¸, ì˜¬ë¦¬ë¶€ì°¨í˜¸, í˜¸ë„·í˜¸ ë“±ì— ì˜í•´ ë…ë„ê°€ ë°œê²¬ë˜ê³  ì„œì–‘ì‹ ì´ë¦„ìœ¼ë¡œ ëª…ëª…ë¨.", source: "ì„œì–‘ í•­í•´ì¼ì§€", category: "history", type: "ì‚¬ê±´" },
            { year: "1870ë…„", sortYear: 1870, title: "ì¡°ì„ êµ­ êµì œì‹œë§ ë‚´íƒì„œ", content: "ì¼ë³¸ ì™¸ë¬´ì„± ê´€ë£Œë“¤ì´ ë…ë„ê°€ ì¡°ì„ ì— ì†í•˜ê²Œ ëœ ì‚¬ì •ì„ ë³´ê³ í•¨.", source: "ì¼ë³¸ ì™¸ë¬´ì„±", category: "history", type: "ë¬¸í—Œ" },
            { year: "1877ë…„", sortYear: 1877, title: "íƒœì •ê´€ ì§€ë ¹", content: "ì¼ë³¸ ìµœê³  í–‰ì •ê¸°ê´€ì¸ íƒœì •ê´€ì´ 'ìš¸ë¦‰ë„ì™€ ë…ë„ëŠ” ì¼ë³¸ê³¼ ê´€ê³„ê°€ ì—†ë‹¤'ê³  ê³µì‹ ê²°ì •í•¨. ê°€ì¥ ê²°ì •ì ì¸ ì¼ë³¸ ì¸¡ ë¬´íš¨í™” ì¦ê±°.", source: "íƒœì •ê´€ (ì¼ë³¸)", category: "history", type: "êµ­ì œí•©ì˜" },
            { year: "1900ë…„ 10ì›” 25ì¼", sortYear: 1900, title: "ëŒ€í•œì œêµ­ ì¹™ë ¹ ì œ41í˜¸", content: "ìš¸ë¦‰ë„ë¥¼ ìš¸ë„ë¡œ ê°œì¹­í•˜ê³  ë…ë„(ì„ë„)ë¥¼ ê´€í•  êµ¬ì—­ì— ê³µì‹ í¬í•¨ì‹œí‚´. ê·¼ëŒ€ì  ì˜í†  ì£¼ê¶Œì˜ ëª…ë¬¸í™”.", source: "ëŒ€í•œì œêµ­ ê´€ë³´", category: "modern", type: "í–‰ì •" },
            { year: "1905ë…„", sortYear: 1905, title: "ì¼ë³¸ì˜ ë¶ˆë²• í¸ì… ì‹œë„", content: "ì¼ë³¸ ë‚´ê° ê²°ì •ê³¼ ì‹œë§ˆë„¤í˜„ ê³ ì‹œ ì œ40í˜¸ë¥¼ í†µí•´ ë…ë„ë¥¼ 'ë‹¤ì¼€ì‹œë§ˆ'ë¡œ ê°œì¹­í•˜ê³  ì€ë°€íˆ í¸ì… ì‹œë„.", source: "ì‹œë§ˆë„¤í˜„ ê³ ì‹œ", category: "modern", type: "ë¶„ìŸ" },
            { year: "1906ë…„", sortYear: 1906, title: "ëŒ€í•œì œêµ­ ì˜ì •ë¶€ ì§€ë ¹ ì œ3í˜¸", content: "ìš¸ë¦‰êµ°ìˆ˜ ì‹¬í¥íƒì˜ ë³´ê³ ë¥¼ ë°›ê³  ì˜ì •ë¶€ê°€ ì¼ë³¸ì˜ í¸ì… ì£¼ì¥ì„ ê°•ë ¥íˆ ë°˜ë°•í•¨.", source: "ëŒ€í•œì œêµ­", category: "modern", type: "í–‰ì •" },
            { year: "1946ë…„ 1ì›” 29ì¼", sortYear: 1946, title: "SCAPIN ì œ677í˜¸", content: "ì—°í•©êµ°ìµœê³ ì‚¬ë ¹ê´€ ì§€ë ¹(SCAPIN)ì— ì˜í•´ ë…ë„ë¥¼ ì¼ë³¸ì˜ í†µì¹˜ ë²”ìœ„ì—ì„œ ì œì™¸í•˜ê³  í•œêµ­ ì˜í† ë¡œ ë¶„ë¥˜í•¨.", source: "ì—°í•©êµ°ìµœê³ ì‚¬ë ¹ë¶€", category: "modern", type: "êµ­ì œí•©ì˜" },
            { year: "1951ë…„ 9ì›” 8ì¼", sortYear: 1951, title: "ìƒŒí”„ë€ì‹œìŠ¤ì½” ê°•í™”ì¡°ì•½", content: "ì¼ë³¸ì´ í•œêµ­ì˜ ë…ë¦½ì„ ì¸ì •í•˜ê³  ì˜í†  í¬ê¸°ë¥¼ ëª…ì‹œí•¨.", source: "êµ­ì œ ì¡°ì•½", category: "modern", type: "êµ­ì œí•©ì˜" },
            { year: "1952ë…„ 1ì›” 18ì¼", sortYear: 1952, title: "í‰í™”ì„ (ì´ìŠ¹ë§Œ ë¼ì¸) ì„ í¬", content: "ëŒ€í•œë¯¼êµ­ ì •ë¶€ê°€ í‰í™”ì„  ì„ í¬ë¥¼ í†µí•´ ë…ë„ ì˜ìœ ê¶Œì„ ëŒ€ë‚´ì™¸ì— ëª…í™•íˆ í•¨.", source: "ëŒ€í•œë¯¼êµ­ ì •ë¶€", category: "modern", type: "í–‰ì •" },
            { year: "1953~1954ë…„", sortYear: 1953, title: "ë…ë„ì˜ìš©ìˆ˜ë¹„ëŒ€ í™œë™", content: "ë¯¼ê°„ ì°¨ì›ì˜ ë…ë„ì˜ìš©ìˆ˜ë¹„ëŒ€ ë° ë…ë„ê²½ë¹„ëŒ€ í™œë™ ì‹œì‘ìœ¼ë¡œ ì‹¤íš¨ì  ì§€ë°° ê°•í™”.", source: "ë¯¼ê°„/ì •ë¶€", category: "modern", type: "ìˆ˜í˜¸" },
            { year: "1965ë…„", sortYear: 1965, title: "í•œì¼ê¸°ë³¸ì¡°ì•½", content: "ë…ë„ ë¬¸ì œë¥¼ ëª…ë¬¸í™”í•˜ì§€ ì•Šê³  ì¼ë‹¨ í•´ê²°í•œ ê²ƒìœ¼ë¡œ ê°„ì£¼í•¨ (í˜„ìƒ ìœ ì§€).", source: "í•œì¼ ì™¸êµ", category: "dispute", type: "êµ­ì œí•©ì˜" },
            { year: "1968ë…„ / 1981ë…„", sortYear: 1968, title: "ë¯¼ê°„ì¸ ê±°ì£¼ ì‹œì‘", content: "ìµœì¢…ë• ì”¨ê°€ ë…ë„ì— ê±°ì£¼ë¥¼ ì‹œì‘(1968)í•˜ê³  1981ë…„ ìµœì´ˆë¡œ ì£¼ë¯¼ë“±ë¡ì„ ì´ì „í•¨. ì‹¤íš¨ì  ì§€ë°°ì˜ ì¦ê±°.", source: "ì£¼ë¯¼ë“±ë¡", category: "dispute", type: "ìˆ˜í˜¸" },
            { year: "1998ë…„ 9ì›”", sortYear: 1998, title: "ì‹ í•œì¼ ì–´ì—…í˜‘ì •", content: "ë…ë„ ì£¼ë³€ì„ ì¤‘ê°„ìˆ˜ì—­ìœ¼ë¡œ ì„¤ì •í•˜ë©´ì„œ í•œì¼ ê°„ ê°ˆë“±ì´ ì¬ì í™”ë¨.", source: "ì™¸êµ í˜‘ì •", category: "dispute", type: "ë¶„ìŸ" },
            { year: "2000ë…„ 3ì›”", sortYear: 2000, title: "ë…ë„ìˆ˜í˜¸ëŒ€ ì°½ì„¤", content: "ì‹œë¯¼ë‹¨ì²´ ë…ë„ìˆ˜í˜¸ëŒ€ ì°½ì„¤ ë° 'ë…ë„ì˜ ë‚ ' ì œì • ìš´ë™ ë“± ë…ë„ ë°”ë¡œ ì•Œê¸° í™œë™ ì „ê°œ.", source: "ì‹œë¯¼ë‹¨ì²´", category: "dispute", type: "ìˆ˜í˜¸" },
            { year: "2005ë…„ 3ì›” 16ì¼", sortYear: 2005, title: "ì‹œë§ˆë„¤í˜„ 'ë‹¤ì¼€ì‹œë§ˆì˜ ë‚ ' ì¡°ë¡€", content: "ì¼ë³¸ ì‹œë§ˆë„¤í˜„ ì˜íšŒê°€ ë§¤ë…„ 2ì›” 22ì¼ì„ 'ë‹¤ì¼€ì‹œë§ˆì˜ ë‚ 'ë¡œ ì •í•˜ëŠ” ì¡°ë¡€ë¥¼ ê°€ê²°, ê°ˆë“± ì‹¬í™”.", source: "ì¼ë³¸ ì§€ìì²´", category: "dispute", type: "ë¶„ìŸ" },
            { year: "2006ë…„ 4ì›” 25ì¼", sortYear: 2006, title: "ëŒ€í†µë ¹ íŠ¹ë³„ë‹´í™”", content: "ë…¸ë¬´í˜„ ëŒ€í†µë ¹ì˜ í•œì¼ê´€ê³„ ê´€ë ¨ ëŒ€êµ­ë¯¼ íŠ¹ë³„ë‹´í™” ë°œí‘œ. ë…ë„ ìˆ˜í˜¸ ì˜ì§€ ì²œëª….", source: "ëŒ€í†µë ¹ì‹¤", category: "dispute", type: "í–‰ì •" },
            { year: "2008ë…„", sortYear: 2008, title: "ë…ë„ì—°êµ¬ì†Œ ì„¤ë¦½", content: "ì •ë¶€ ì—°êµ¬ê¸°ê´€ì¸ ë…ë„ì—°êµ¬ì†Œ ì„¤ë¦½ ë° ë…ë„ì²´í—˜ê´€ ìš´ì˜ ì‹œì‘.", source: "ì •ë¶€ ê¸°ê´€", category: "dispute", type: "ìˆ˜í˜¸" },
            { year: "2011~2015ë…„", sortYear: 2011, title: "ì¼ë³¸ êµê³¼ì„œ ì™œê³¡", content: "ì¼ë³¸ì˜ ì´ˆÂ·ì¤‘í•™êµ êµê³¼ì„œì—ì„œ ë…ë„ ì˜ìœ ê¶Œì— ê´€í•œ ì™œê³¡ ê¸°ìˆ ì´ ê¸‰ì¦í•¨.", source: "ì¼ë³¸ êµê³¼ì„œ", category: "dispute", type: "ë¶„ìŸ" }
        ];

        let currentFilter = 'all';
        let searchQuery = '';

        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        function initCharts() {
            const eraCounts = { 'ì¡°ì„ ì‹œëŒ€ ì´ì „': 0, 'ì¡°ì„ ì‹œëŒ€(1392~1897)': 0, 'ëŒ€í•œì œêµ­/ì¼ì œê°•ì ê¸°': 0, 'í˜„ëŒ€(ê´‘ë³µ í›„)': 0 };
            timelineData.forEach(d => {
                if (d.sortYear < 1392) eraCounts['ì¡°ì„ ì‹œëŒ€ ì´ì „']++;
                else if (d.sortYear < 1897) eraCounts['ì¡°ì„ ì‹œëŒ€(1392~1897)']++;
                else if (d.sortYear < 1945) eraCounts['ëŒ€í•œì œêµ­/ì¼ì œê°•ì ê¸°']++;
                else eraCounts['í˜„ëŒ€(ê´‘ë³µ í›„)']++;
            });

            const typeCounts = {};
            timelineData.forEach(d => {
                let t = d.type;
                if (['ë¬¸í—Œ', 'í–‰ì •', 'êµ­ì œí•©ì˜'].includes(t)) t = 'ë¬¸í—Œ/í–‰ì •';
                if (['ì‚¬ê±´', 'ìˆ˜í˜¸'].includes(t)) t = 'í™œë™/ì‚¬ê±´';
                typeCounts[t] = (typeCounts[t] || 0) + 1;
            });

            const ctxEra = document.getElementById('eraChart').getContext('2d');
            new Chart(ctxEra, {
                type: 'bar',
                data: {
                    labels: Object.keys(eraCounts),
                    datasets: [{
                        label: 'ê¸°ë¡ ìˆ˜',
                        data: Object.values(eraCounts),
                        backgroundColor: 'rgba(30, 58, 138, 0.7)',
                        borderColor: 'rgba(30, 58, 138, 1)',
                        borderWidth: 1,
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: { callbacks: { label: (ctx) => `${ctx.raw}ê±´ì˜ ì£¼ìš” ê¸°ë¡` } }
                    },
                    scales: {
                        y: { beginAtZero: true, grid: { color: '#f5f5f4' } },
                        x: { grid: { display: false } }
                    }
                }
            });

            const ctxType = document.getElementById('typeChart').getContext('2d');
            new Chart(ctxType, {
                type: 'doughnut',
                data: {
                    labels: Object.keys(typeCounts),
                    datasets: [{
                        data: Object.values(typeCounts),
                        backgroundColor: [
                            'rgba(30, 58, 138, 0.8)',
                            'rgba(234, 179, 8, 0.8)',
                            'rgba(220, 38, 38, 0.7)',
                            'rgba(22, 163, 74, 0.7)',
                            'rgba(120, 113, 108, 0.7)'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom', labels: { padding: 20, usePointStyle: true } }
                    }
                }
            });
        }

        function renderTimeline() {
            const container = document.getElementById('timelineList');
            const noRes = document.getElementById('noResults');
            container.innerHTML = '';
            
            const filtered = timelineData.filter(item => {
                const matchesFilter = currentFilter === 'all' || item.category === currentFilter;
                const matchesSearch = searchQuery === '' || 
                                      item.title.toLowerCase().includes(searchQuery.toLowerCase()) || 
                                      item.content.toLowerCase().includes(searchQuery.toLowerCase()) ||
                                      item.year.includes(searchQuery);
                return matchesFilter && matchesSearch;
            });

            if (filtered.length === 0) {
                noRes.classList.remove('hidden');
                return;
            } else {
                noRes.classList.add('hidden');
            }

            filtered.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = `relative pl-8 md:pl-12 py-4 group transition-all duration-300 ease-in-out`;
                const dotColor = item.category === 'dispute' ? 'bg-red-500' : (item.category === 'modern' ? 'bg-blue-600' : 'bg-stone-400');
                
                card.innerHTML = `
                    <div class="absolute left-0 md:left-4 top-10 w-4 h-4 rounded-full ${dotColor} border-2 border-white shadow-md z-10 group-hover:scale-125 transition-transform"></div>
                    <div class="bg-white p-5 rounded-lg shadow-sm border border-stone-200 hover:shadow-md hover:border-blue-300 transition-all cursor-pointer" onclick="toggleDetail(this)">
                        <div class="flex flex-col md:flex-row md:items-center justify-between mb-2">
                            <span class="text-sm font-bold text-blue-700 bg-blue-50 px-2 py-0.5 rounded-md inline-block w-fit mb-1 md:mb-0">${item.year}</span>
                            <span class="text-xs text-stone-400 font-mono border border-stone-200 px-1.5 rounded">${item.type}</span>
                        </div>
                        <h4 class="text-lg font-bold text-stone-900 mb-1 group-hover:text-blue-800 transition-colors">${item.title}</h4>
                        <p class="text-stone-600 text-sm leading-relaxed line-clamp-2 detail-text">${item.content}</p>
                        <div class="hidden mt-4 pt-4 border-t border-stone-100 bg-stone-50 -mx-5 -mb-5 px-5 py-3 rounded-b-lg">
                            <div class="grid grid-cols-1 gap-2 text-sm">
                                <div><span class="font-semibold text-stone-700">ì¶œì²˜:</span> <span class="text-stone-600">${item.source}</span></div>
                                <div><span class="font-semibold text-stone-700">ë¶„ë¥˜:</span> <span class="text-stone-600">${getCategoryName(item.category)}</span></div>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function getCategoryName(cat) {
            const map = { 'natural': 'ìì—°ì‚¬', 'history': 'ì—­ì‚¬ì  ê¸°ë¡', 'modern': 'ê·¼ëŒ€/êµ­ì œë²•', 'dispute': 'í˜„ëŒ€ ë¶„ìŸ/ìˆ˜í˜¸' };
            return map[cat] || cat;
        }

        function filterData(filterType) {
            currentFilter = filterType;
            document.querySelectorAll('.filter-btn').forEach(btn => {
                if (btn.textContent.includes(getBtnLabel(filterType))) {
                    btn.classList.add('bg-blue-800', 'text-white');
                    btn.classList.remove('bg-stone-200', 'text-stone-600');
                } else {
                    btn.classList.remove('bg-blue-800', 'text-white');
                    btn.classList.add('bg-stone-200', 'text-stone-600');
                }
            });
            renderTimeline();
        }
        
        function getBtnLabel(type) {
            if(type === 'all') return 'ì „ì²´';
            if(type === 'history') return 'ì—­ì‚¬';
            if(type === 'modern') return 'ê·¼ëŒ€';
            if(type === 'dispute') return 'í˜„ëŒ€';
            return '';
        }

        function toggleDetail(element) {
            const p = element.querySelector('p');
            const detailDiv = element.querySelector('.hidden, .block.mt-4');
            if (detailDiv.classList.contains('hidden')) {
                p.classList.remove('line-clamp-2');
                detailDiv.classList.remove('hidden');
                detailDiv.classList.add('block');
            } else {
                p.classList.add('line-clamp-2');
                detailDiv.classList.add('hidden');
                detailDiv.classList.remove('block');
            }
        }

        document.getElementById('searchInput').addEventListener('input', (e) => {
            searchQuery = e.target.value;
            renderTimeline();
        });

        window.addEventListener('DOMContentLoaded', () => {
            initCharts();
            renderTimeline();
        });
    </script>
</body>
</html>
